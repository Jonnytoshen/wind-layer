(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{612:function(t,e,i){"use strict";function r(t,e){var i=document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function o(t,e){var i=e.parentNode;i&&i.replaceChild(t,e)}function n(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function s(t){for(;t.lastChild;)t.removeChild(t.lastChild)}i.d(e,"a",(function(){return r})),i.d(e,"d",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"b",(function(){return s}))},621:function(t,e,i){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},631:function(t,e,i){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},638:function(t,e,i){"use strict";function r(t){return Math.pow(t,3)}function o(t){return 1-r(1-t)}function n(t){return 3*t*t-2*t*t*t}function s(t){return t}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n})),i.d(e,"d",(function(){return s}))},690:function(t,e,i){"use strict";var r=i(602),o=i(627),n=i(595),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(n.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var i=this.oldest_;i;)t.call(e,i.value_,i.key_,this),i=i.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_||(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e),e.value_},e.prototype.remove=function(t){var e=this.entries_[t];return Object(r.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),i=0;for(t=this.newest_;t;t=t.older)e[i++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(r.a)(!(t in this.entries_),16);var i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(o.a);e.a=s},693:function(t,e,i){"use strict";function r(t){return t[0]>0&&t[1]>0}function o(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function n(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return n}))},702:function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return o}));var r=.5,o=!0},704:function(t,e,i){"use strict";i.d(e,"a",(function(){return r})),i.d(e,"b",(function(){return o}));var r=42,o=256},738:function(t,e,i){"use strict";i.d(e,"a",(function(){return o}));var r=function(t,e,i,r){this.minX=t,this.maxX=e,this.minY=i,this.maxY=r};function o(t,e,i,o,n){return void 0!==n?(n.minX=t,n.maxX=e,n.minY=i,n.maxY=o,n):new r(t,e,i,o)}r.prototype.contains=function(t){return this.containsXY(t[1],t[2])},r.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},r.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},r.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},r.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},r.prototype.getHeight=function(){return this.maxY-this.minY+1},r.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},r.prototype.getWidth=function(){return this.maxX-this.minX+1},r.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=r},741:function(t,e,i){"use strict";var r=i(592),o=i(607),n=i(622),s=i(621),a=function(t){function e(e){t.call(this),this.projection_=Object(n.get)(e.projection),this.attributions_=c(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(r.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=c(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(o.a);function c(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},839:function(t,e,i){"use strict";i.r(e);var r=i(702),o=i(592),n=i(631),s=i(638),a=i(627),c=i(595),h=function(t){function e(e,i,r){t.call(this);var o=r||{};this.tileCoord=e,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===o.transition?250:o.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(c.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==n.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==n.a.LOADED){t.interimTile=null;break}t.getState()==n.a.LOADING?e=t:t.getState()==n.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;var r=e-i+1e3/60;return r>=this.transition_?1:Object(s.a)(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.a),u=i(612),l=i(599);function p(){var t=Object(u.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var d=function(t){function e(e,i,r,o,n,s){t.call(this,e,i,s),this.crossOrigin_=o,this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n.a.LOADING&&(this.unlistenImage_(),this.image_=p()),this.interimTile&&this.interimTile.dispose(),this.state=n.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=n.a.ERROR,this.unlistenImage_(),this.image_=p(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=n.a.LOADED:this.state=n.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==n.a.ERROR&&(this.state=n.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==n.a.IDLE&&(this.state=n.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(l.b)(this.image_,c.a.ERROR,this.handleImageError_,this),Object(l.b)(this.image_,c.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(l.e),this.imageListenerKeys_=null},e}(h);function g(t,e,i,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=i,r):[t,e,i]}function f(t,e,i){return t+"/"+e+"/"+i}function _(t){return f(t[0],t[1],t[2])}var y=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),i=e.tileCoord[0].toString();if(i in t&&t[i].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(_(e.tileCoord)),e.dispose())}),this)}},e}(i(690).a),v=i(622),m=i(593),b=i(600);function j(t,e,i,r){var o=i-t,n=r-e,s=Math.sqrt(o*o+n*n);return[Math.round(i+o/s),Math.round(r+n/s)]}var T=function(t,e,i,r,o){this.sourceProj_=t,this.targetProj_=e;var n={},s=Object(v.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return n[e]||(n[e]=s(t)),n[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Object(m.E)(r)==Object(m.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(m.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(m.E)(this.targetProj_.getExtent()):null;var a=Object(m.C)(i),c=Object(m.D)(i),h=Object(m.w)(i),u=Object(m.v)(i),l=this.transformInv_(a),p=this.transformInv_(c),d=this.transformInv_(h),g=this.transformInv_(u);if(this.addQuad_(a,c,h,u,l,p,d,g,10),this.wrapsXInSource_){var f=1/0;this.triangles_.forEach((function(t,e,i){f=Math.min(f,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-f>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-f>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-f>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-f>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var i=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-i<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}n={}};T.prototype.addTriangle_=function(t,e,i,r,o,n){this.triangles_.push({source:[r,o,n],target:[t,e,i]})},T.prototype.addQuad_=function(t,e,i,r,o,n,s,a,c){var h=Object(m.b)([o,n,s,a]),u=this.sourceWorldWidth_?Object(m.E)(h)/this.sourceWorldWidth_:null,l=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&u>.5&&u<1,d=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var g=Object(m.b)([t,e,i,r]);d=Object(m.E)(g)/this.targetWorldWidth_>.25||d}!p&&this.sourceProj_.isGlobal()&&u&&(d=u>.25||d)}if(d||!this.maxSourceExtent_||Object(m.F)(h,this.maxSourceExtent_)){if(!(d||isFinite(o[0])&&isFinite(o[1])&&isFinite(n[0])&&isFinite(n[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(c>0))return;d=!0}if(c>0){if(!d){var f,_=[(t[0]+i[0])/2,(t[1]+i[1])/2],y=this.transformInv_(_);if(p)f=(Object(b.d)(o[0],l)+Object(b.d)(s[0],l))/2-Object(b.d)(y[0],l);else f=(o[0]+s[0])/2-y[0];var v=(o[1]+s[1])/2-y[1];d=f*f+v*v>this.errorThresholdSquared_}if(d){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){var j=[(e[0]+i[0])/2,(e[1]+i[1])/2],T=this.transformInv_(j),O=[(r[0]+t[0])/2,(r[1]+t[1])/2],E=this.transformInv_(O);this.addQuad_(t,e,j,O,o,n,T,E,c-1),this.addQuad_(O,j,i,r,E,T,s,a,c-1)}else{var x=[(t[0]+e[0])/2,(t[1]+e[1])/2],C=this.transformInv_(x),F=[(i[0]+r[0])/2,(i[1]+r[1])/2],S=this.transformInv_(F);this.addQuad_(t,x,F,r,o,C,S,a,c-1),this.addQuad_(x,e,i,F,C,n,s,S,c-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,i,r,o,s,a),this.addTriangle_(t,e,i,o,n,s)}},T.prototype.calculateSourceExtent=function(){var t=Object(m.j)();return this.triangles_.forEach((function(e,i,r){var o=e.source;Object(m.r)(t,o[0]),Object(m.r)(t,o[1]),Object(m.r)(t,o[2])})),t},T.prototype.getTriangles=function(){return this.triangles_};var O=T,E=function(t){function e(e,i,o,s,a,c,h,u,l,p,d){t.call(this,a,n.a.IDLE),this.renderEdges_=void 0!==d&&d,this.pixelRatio_=h,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=i,this.targetTileGrid_=s,this.wrappedTileCoord_=c||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var g=s.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent(),_=this.sourceTileGrid_.getExtent(),y=f?Object(m.B)(g,f):g;if(0!==Object(m.u)(y)){var j=e.getExtent();j&&(_=_?Object(m.B)(_,j):j);var T=s.getResolution(this.wrappedTileCoord_[0]),E=function(t,e,i,r){var o=Object(v.transform)(i,e,t),n=Object(v.getPointResolution)(e,r,i),s=e.getMetersPerUnit();void 0!==s&&(n*=s);var a=t.getMetersPerUnit();void 0!==a&&(n/=a);var c=t.getExtent();if(!c||Object(m.f)(c,o)){var h=Object(v.getPointResolution)(t,n,o)/n;isFinite(h)&&h>0&&(n/=h)}return n}(e,o,Object(m.x)(y),T);if(!isFinite(E)||E<=0)this.state=n.a.EMPTY;else{var x=void 0!==p?p:r.b;if(this.triangulation_=new O(e,o,y,_,E*x),0!==this.triangulation_.getTriangles().length){this.sourceZ_=i.getZForResolution(E);var C=this.triangulation_.calculateSourceExtent();if(_&&(e.canWrapX()?(C[1]=Object(b.a)(C[1],_[1],_[3]),C[3]=Object(b.a)(C[3],_[1],_[3])):C=Object(m.B)(C,_)),Object(m.u)(C)){for(var F=i.getTileRangeForExtentAndZ(C,this.sourceZ_),S=F.minX;S<=F.maxX;S++)for(var R=F.minY;R<=F.maxY;R++){var w=l(this.sourceZ_,S,R,h);w&&this.sourceTiles_.push(w)}0===this.sourceTiles_.length&&(this.state=n.a.EMPTY)}else this.state=n.a.EMPTY}else this.state=n.a.EMPTY}}else this.state=n.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==n.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,i,r){e&&e.getState()==n.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=n.a.ERROR;else{var e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),r="number"==typeof i?i:i[0],o="number"==typeof i?i:i[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),c=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,i,r,o,n,s,a,c,h,l){var p=Object(u.a)(Math.round(i*t),Math.round(i*e));if(0===c.length)return p.canvas;p.scale(i,i);var d=Object(m.j)();c.forEach((function(t,e,i){Object(m.q)(d,t.extent)}));var g=Object(m.E)(d),f=Object(m.A)(d),_=Object(u.a)(Math.round(i*g/r),Math.round(i*f/r)),y=i/r;c.forEach((function(t,e,i){var r=t.extent[0]-d[0],o=-(t.extent[3]-d[3]),n=Object(m.E)(t.extent),s=Object(m.A)(t.extent);_.drawImage(t.image,h,h,t.image.width-2*h,t.image.height-2*h,r*y,o*y,n*y,s*y)}));var v=Object(m.C)(s);return a.getTriangles().forEach((function(t,e,o){var s=t.source,a=t.target,c=s[0][0],h=s[0][1],u=s[1][0],l=s[1][1],g=s[2][0],f=s[2][1],y=(a[0][0]-v[0])/n,m=-(a[0][1]-v[1])/n,T=(a[1][0]-v[0])/n,O=-(a[1][1]-v[1])/n,E=(a[2][0]-v[0])/n,x=-(a[2][1]-v[1])/n,C=c,F=h;c=0,h=0;var S=[[u-=C,l-=F,0,0,T-y],[g-=C,f-=F,0,0,E-y],[0,0,u,l,O-m],[0,0,g,f,x-m]],R=Object(b.e)(S);if(R){p.save(),p.beginPath();var w=(y+T+E)/3,P=(m+O+x)/3,X=j(w,P,y,m),G=j(w,P,T,O),I=j(w,P,E,x);p.moveTo(G[0],G[1]),p.lineTo(X[0],X[1]),p.lineTo(I[0],I[1]),p.clip(),p.transform(R[0],R[2],R[1],R[3],y,m),p.translate(d[0]-C,d[3]-F),p.scale(r/i,-r/i),p.drawImage(_.canvas,0,0),p.restore()}})),l&&(p.save(),p.strokeStyle="black",p.lineWidth=1,a.getTriangles().forEach((function(t,e,i){var r=t.target,o=(r[0][0]-v[0])/n,s=-(r[0][1]-v[1])/n,a=(r[1][0]-v[0])/n,c=-(r[1][1]-v[1])/n,h=(r[2][0]-v[0])/n,u=-(r[2][1]-v[1])/n;p.beginPath(),p.moveTo(a,c),p.lineTo(o,s),p.lineTo(h,u),p.closePath(),p.stroke()})),p.restore()),p.canvas}(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,c,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=n.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==n.a.IDLE){this.state=n.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,i,r){var o=e.getState();if(o==n.a.IDLE||o==n.a.LOADING){t++;var s=Object(l.a)(e,c.a.CHANGE,(function(i){var r=e.getState();r!=n.a.LOADED&&r!=n.a.ERROR&&r!=n.a.EMPTY||(Object(l.e)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,i){t.getState()==n.a.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(l.e),this.sourcesListenerKeys_=null},e}(h),x=i(602);function C(t,e){var i=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,n=/\{-y\}/g;return function(s,a,c){return s?t.replace(i,s[0].toString()).replace(r,s[1].toString()).replace(o,(function(){return(-s[2]-1).toString()})).replace(n,(function(){var t=s[0],i=e.getFullTileRange(t);return Object(x.a)(i,55),(i.getHeight()+s[2]).toString()})):void 0}}function F(t,e){for(var i=t.length,r=new Array(i),o=0;o<i;++o)r[o]=C(t[o],e);return function(t){if(1===t.length)return t[0];return(function(e,i,r){if(e){var o=function(t){return(t[1]<<t[0])+t[2]}(e),n=Object(b.d)(o,t.length);return t[n](e,i,r)}})}(r)}function S(t,e,i){}var R=i(611),w=i(693),P=i(741),X=i(704),G=i(760),I=i(630),L=i(738),A=i(610),z=[0,0,0],M=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(x.a)(Object(A.e)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var i=0,r=this.resolutions_.length-1;i<r;++i)if(e){if(this.resolutions_[i]/this.resolutions_[i+1]!==e){e=void 0;break}}else e=this.resolutions_[i]/this.resolutions_[i+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(x.a)(this.origins_.length==this.resolutions_.length,20));var o=t.extent;void 0===o||this.origin_||this.origins_||(this.origin_=Object(m.C)(o)),Object(x.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(x.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:X.b,Object(x.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new L.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):o&&this.calculateTileRanges_(o)};M.prototype.forEachTileCoord=function(t,e,i){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,n=r.maxX;o<=n;++o)for(var s=r.minY,a=r.maxY;s<=a;++s)i([e,o,s])},M.prototype.forEachTileCoordParentTileRange=function(t,e,i,r,o){var n,s,a,c=null,h=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):c=this.getTileCoordExtent(t,o);h>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),n=Object(L.a)(s,s,a,a,r)):n=this.getTileRangeForExtentAndZ(c,h,r),e.call(i,h,n))return!0;--h}return!1},M.prototype.getExtent=function(){return this.extent_},M.prototype.getMaxZoom=function(){return this.maxZoom},M.prototype.getMinZoom=function(){return this.minZoom},M.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},M.prototype.getResolution=function(t){return this.resolutions_[t]},M.prototype.getResolutions=function(){return this.resolutions_},M.prototype.getTileCoordChildTileRange=function(t,e,i){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return Object(L.a)(r,r+1,o,o+1,e)}var n=this.getTileCoordExtent(t,i);return this.getTileRangeForExtentAndZ(n,t[0]+1,e)}return null},M.prototype.getTileRangeExtent=function(t,e,i){var r=this.getOrigin(t),o=this.getResolution(t),n=Object(w.c)(this.getTileSize(t),this.tmpSize_),s=r[0]+e.minX*n[0]*o,a=r[0]+(e.maxX+1)*n[0]*o,c=r[1]+e.minY*n[1]*o,h=r[1]+(e.maxY+1)*n[1]*o;return Object(m.k)(s,c,a,h,i)},M.prototype.getTileRangeForExtentAndZ=function(t,e,i){var r=z;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var o=r[1],n=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),Object(L.a)(o,r[1],n,r[2],i)},M.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(w.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*i,e[1]+(t[2]+.5)*r[1]*i]},M.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Object(w.c)(this.getTileSize(t[0]),this.tmpSize_),n=i[0]+t[1]*o[0]*r,s=i[1]+t[2]*o[1]*r,a=n+o[0]*r,c=s+o[1]*r;return Object(m.k)(n,s,a,c,e)},M.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},M.prototype.getTileCoordForXYAndResolution_=function(t,e,i,r,o){var n=this.getZForResolution(i),s=i/this.getResolution(n),a=this.getOrigin(n),c=Object(w.c)(this.getTileSize(n),this.tmpSize_),h=r?.5:0,u=r?0:.5,l=Math.floor((t-a[0])/i+h),p=Math.floor((e-a[1])/i+u),d=s*l/c[0],f=s*p/c[1];return r?(d=Math.ceil(d)-1,f=Math.ceil(f)-1):(d=Math.floor(d),f=Math.floor(f)),g(n,d,f,o)},M.prototype.getTileCoordForXYAndZ_=function(t,e,i,r,o){var n=this.getOrigin(i),s=this.getResolution(i),a=Object(w.c)(this.getTileSize(i),this.tmpSize_),c=r?.5:0,h=r?0:.5,u=Math.floor((t-n[0])/s+c),l=Math.floor((e-n[1])/s+h),p=u/a[0],d=l/a[1];return r?(p=Math.ceil(p)-1,d=Math.ceil(d)-1):(p=Math.floor(p),d=Math.floor(d)),g(i,p,d,o)},M.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},M.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},M.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},M.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},M.prototype.getZForResolution=function(t,e){var i=Object(A.f)(this.resolutions_,t,e||0);return Object(b.a)(i,this.minZoom,this.maxZoom)},M.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),r=this.minZoom;r<e;++r)i[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=i};var Y=M;function Z(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,i,r){return function(t,e,i,r){var o=void 0!==r?r:G.a.TOP_LEFT,n=D(t,e,i);return new Y({extent:t,origin:Object(m.y)(t,o),resolutions:n,tileSize:i})}(W(t),e,i,r)}(t),t.setDefaultTileGrid(e)),e}function D(t,e,i){for(var r=void 0!==e?e:X.a,o=Object(m.A)(t),n=Object(m.E)(t),s=Object(w.c)(void 0!==i?i:X.b),a=Math.max(n/s[0],o/s[1]),c=r+1,h=new Array(c),u=0;u<c;++u)h[u]=a/Math.pow(2,u);return h}function W(t){var e=(t=Object(v.get)(t)).getExtent();if(!e){var i=180*v.METERS_PER_UNIT[I.b.DEGREES]/t.getMetersPerUnit();e=Object(m.k)(-i,-i,i,i)}return e}var k=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new y(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,i,r){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var s,a,c,h=!0,u=i.minX;u<=i.maxX;++u)for(var l=i.minY;l<=i.maxY;++l)a=f(e,u,l),c=!1,o.containsKey(a)&&(c=(s=o.get(a)).getState()===n.a.LOADED)&&(c=!1!==r(s)),c||(h=!1);return h},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,i,r,n){return Object(o.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Z(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(v.equivalent)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),n=Object(w.c)(r.getTileSize(t),this.tmpSize);return 1==o?n:Object(w.b)(n,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=function(t,e,i){var r=e[0],o=t.getTileCoordCenter(e),n=W(i);if(Object(m.f)(n,o))return e;var s=Object(m.E)(n),a=Math.ceil((n[0]-o[0])/s);return o[0]+=s*a,t.getTileCoordForCoordAndZ(o,r)}(r,t,i)),function(t,e){var i=t[0],r=t[1],o=t[2];if(e.getMinZoom()>i||i>e.getMaxZoom())return!1;var n,s=e.getExtent();return!(n=s?e.getTileRangeForExtentAndZ(s,i):e.getFullTileRange(i))||n.containsXY(r,o)}(t,r)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,i,r){},e}(P.a),U=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(R.a),K="tileloadstart",q="tileloadend",N="tileloaderror";function B(t,e){t.getImage().src=e}var H=function(t){function e(e){var i=e||{},r=void 0!==i.projection?i.projection:"EPSG:3857",o=void 0!==i.tileGrid?i.tileGrid:function(t){var e=t||{},i=e.extent||Object(v.get)("EPSG:3857").getExtent(),r={extent:i,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:D(i,e.maxZoom,e.tileSize)};return new Y(r)}({extent:W(r),maxZoom:i.maxZoom,minZoom:i.minZoom,tileSize:i.tileSize});t.call(this,{attributions:i.attributions,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,opaque:i.opaque,projection:r,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:i.tileLoadFunction,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:i.tileUrlFunction,url:i.url,urls:i.urls,wrapX:void 0===i.wrapX||i.wrapX,transition:i.transition,attributionsCollapsible:i.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:B,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:d,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!r.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,i){if(r.a){var o=this.getTileCacheForProjection(e);for(var n in this.tileCache.expireCache(this.tileCache==o?i:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[n];s.expireCache(s==o?i:{})}}else t.prototype.expireCache.call(this,e,i)},e.prototype.getGutterForProjection=function(t){return r.a&&this.getProjection()&&t&&!Object(v.equivalent)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(r.a&&this.getProjection()&&e&&!Object(v.equivalent)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!r.a)return t.prototype.getTileGridForProjection.call(this,e);var i=this.getProjection();if(!this.tileGrid||i&&!Object(v.equivalent)(i,e)){var n=Object(o.c)(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=Z(e)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!r.a)return t.prototype.getTileCacheForProjection.call(this,e);var i=this.getProjection();if(!i||Object(v.equivalent)(i,e))return this.tileCache;var n=Object(o.c)(e);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new y(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,i,r,o,s){var a=[t,e,i],h=this.getTileCoordForTileUrlFunction(a,o),u=h?this.tileUrlFunction(h,r,o):void 0,p=new this.tileClass(a,void 0!==u?n.a.IDLE:n.a.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return p.key=s,Object(l.a)(p,c.a.CHANGE,this.handleTileChange,this),p},e.prototype.getTile=function(t,e,i,o,n){var s=this.getProjection();if(r.a&&s&&n&&!Object(v.equivalent)(s,n)){var a,c=this.getTileCacheForProjection(n),h=[t,e,i],u=_(h);c.containsKey(u)&&(a=c.get(u));var l=this.getKey();if(a&&a.key==l)return a;var p=this.getTileGridForProjection(s),d=this.getTileGridForProjection(n),g=this.getTileCoordForTileUrlFunction(h,n),f=new E(s,p,n,d,h,g,this.getTilePixelRatio(o),this.getGutter(),function(t,e,i,r){return this.getTileInternal(t,e,i,r,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return f.key=l,a?(f.interimTile=a,f.refreshInterimChain(),c.replace(u,f)):c.set(u,f),f}return this.getTileInternal(t,e,i,o,s||n)},e.prototype.getTileInternal=function(t,e,i,r,o){var s=null,a=f(t,e,i),c=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=c){var h=s;s=this.createTile_(t,e,i,r,o,c),h.getState()==n.a.IDLE?s.interimTile=h.interimTile:s.interimTile=h,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,i,r,o,c),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(r.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(r.a){var i=Object(v.get)(t);if(i){var n=Object(o.c)(i);n in this.tileGridForProjection||(this.tileGridForProjection[n]=e)}}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):S,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,i=t.target,r=Object(o.c)(i),s=i.getState();s==n.a.LOADING?(this.tileLoadingKeys_[r]=!0,e=K):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=s==n.a.ERROR?N:s==n.a.LOADED||s==n.a.ABORT?q:void 0),null!=e&&this.dispatchEvent(new U(e,i))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var r,o=i[1].charCodeAt(0),n=i[2].charCodeAt(0);for(r=o;r<=n;++r)e.push(t.replace(i[0],String.fromCharCode(r)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(i[2],10),a=parseInt(i[1],10);a<=s;a++)e.push(t.replace(i[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(F(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,i){var r=f(t,e,i);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(k)));i.d(e,"ATTRIBUTION",(function(){return Q}));var Q='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',J=function(t){function e(e){var i,r=e||{};i=void 0!==r.attributions?r.attributions:[Q];var o=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",n=void 0!==r.url?r.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:i,cacheSize:r.cacheSize,crossOrigin:o,opaque:void 0===r.opaque||r.opaque,maxZoom:void 0!==r.maxZoom?r.maxZoom:19,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileLoadFunction:r.tileLoadFunction,url:n,wrapX:r.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(H);e.default=J}}]);